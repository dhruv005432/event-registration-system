<header class="bg-gray-900 text-white shadow-lg">
  <nav class="container mx-auto px-6 py-4">
    <div class="flex items-center justify-between">
      <!-- Logo -->
      <div class="flex items-center">
        <a routerLink="/home" class="text-2xl font-bold text-indigo-400 hover:text-indigo-300 transition-colors">
          <i class="fas fa-calendar-alt mr-2"></i>
          EventHub
        </a>
      </div>

      <!-- Desktop Navigation Menu -->
      <div class="hidden md:flex items-center space-x-8">
        <a routerLink="/home" 
           class="hover:text-indigo-400 transition-colors duration-200"
           routerLinkActive="text-indigo-400">
          <i class="fas fa-home mr-1"></i>
          Home
        </a>
        <a routerLink="/events" 
           class="hover:text-indigo-400 transition-colors duration-200"
           routerLinkActive="text-indigo-400">
          <i class="fas fa-calendar mr-1"></i>
          Events
        </a>
        <a routerLink="/register" 
           class="hover:text-indigo-400 transition-colors duration-200"
           routerLinkActive="text-indigo-400">
          <i class="fas fa-user-plus mr-1"></i>
          Register
        </a>
        <a routerLink="/registrations" 
           class="hover:text-indigo-400 transition-colors duration-200"
           routerLinkActive="text-indigo-400">
          <i class="fas fa-list mr-1"></i>
          Registrations
        </a>
        <a routerLink="/about" 
           class="hover:text-indigo-400 transition-colors duration-200"
           routerLinkActive="text-indigo-400">
          <i class="fas fa-info-circle mr-1"></i>
          About
        </a>
        <a routerLink="/contact" 
           class="hover:text-indigo-400 transition-colors duration-200"
           routerLinkActive="text-indigo-400">
          <i class="fas fa-envelope mr-1"></i>
          Contact
        </a>
        
        <!-- Admin/Manager Links (Role-based) -->
        <div *ngIf="canSeeAdminLinks()" class="flex items-center space-x-4 border-l border-gray-600 pl-4">
          <a routerLink="/manager" 
             class="hover:text-indigo-400 transition-colors duration-200"
             routerLinkActive="text-indigo-400">
            <i class="fas fa-user-tie mr-1"></i>
            Manager
          </a>
          <a routerLink="/admin" 
             class="hover:text-indigo-400 transition-colors duration-200"
             routerLinkActive="text-indigo-400">
            <i class="fas fa-tachometer-alt mr-1"></i>
            Admin
          </a>
        </div>
      </div>

      <!-- User Profile Section -->
      <div class="hidden md:flex items-center space-x-4">
        <!-- User Avatar & Dropdown -->
        <div class="relative" *ngIf="isLoggedIn">
          <button 
            (click)="toggleMobileMenu()"
            class="flex items-center space-x-2 bg-gray-800 px-3 py-2 rounded-lg hover:bg-gray-700 transition-colors">
            <div class="w-8 h-8 bg-indigo-500 rounded-full flex items-center justify-center text-sm font-semibold">
              {{ getUserInitials() }}
            </div>
            <span class="text-sm">{{ getDisplayName() }}</span>
            <i class="fas fa-chevron-down text-xs text-gray-400"></i>
          </button>
          
          <!-- Dropdown Menu -->
          <div *ngIf="showMobileMenu" class="absolute right-0 mt-2 w-48 bg-gray-800 rounded-lg shadow-lg border border-gray-700 z-50">
            <div class="p-2">
              <a routerLink="/profile" 
                 (click)="navigateToProfile()"
                 class="block px-3 py-2 text-sm text-gray-300 hover:bg-gray-700 rounded-md transition-colors">
                <i class="fas fa-user mr-2"></i>
                Profile
              </a>
              <a routerLink="/settings" 
                 class="block px-3 py-2 text-sm text-gray-300 hover:bg-gray-700 rounded-md transition-colors">
                <i class="fas fa-cog mr-2"></i>
                Settings
              </a>
              <div *ngIf="canSeeAdminLinks()" class="border-t border-gray-700 my-2 pt-2">
                <a routerLink="/manager" 
                   (click)="navigateToManager()"
                   class="block px-3 py-2 text-sm text-gray-300 hover:bg-gray-700 rounded-md transition-colors">
                  <i class="fas fa-user-tie mr-2"></i>
                  Manager Dashboard
                </a>
                <a routerLink="/admin" 
                   (click)="navigateToAdmin()"
                   class="block px-3 py-2 text-sm text-gray-300 hover:bg-gray-700 rounded-md transition-colors">
                  <i class="fas fa-tachometer-alt mr-2"></i>
                  Admin Dashboard
                </a>
              </div>
              <div class="border-t border-gray-700 my-2 pt-2">
                <button (click)="logout()" 
                        class="block w-full text-left px-3 py-2 text-sm text-red-400 hover:bg-gray-700 rounded-md transition-colors">
                  <i class="fas fa-sign-out-alt mr-2"></i>
                  Logout
                </button>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Login/Register Buttons (for non-logged users) -->
        <div *ngIf="!isLoggedIn" class="flex items-center space-x-3">
          <a routerLink="/login" 
             class="px-4 py-2 text-sm text-gray-300 hover:text-white transition-colors">
            Login
          </a>
          <a routerLink="/register" 
             class="px-4 py-2 bg-indigo-600 text-white text-sm rounded-lg hover:bg-indigo-700 transition-colors">
            Register
          </a>
        </div>
      </div>

      <!-- Mobile Menu Button -->
      <button class="md:hidden text-white hover:text-indigo-400 focus:outline-none" 
              (click)="toggleMobileMenu()" 
              title="Toggle mobile menu">
        <i class="fas fa-bars text-xl"></i>
      </button>
    </div>

    <!-- Mobile Menu -->
    <div *ngIf="showMobileMenu" class="md:hidden mt-4 pt-4 border-t border-gray-800">
      <div class="flex flex-col space-y-3">
        <a routerLink="/home" 
           (click)="showMobileMenu = false"
           class="hover:text-indigo-400 transition-colors duration-200"
           routerLinkActive="text-indigo-400">
          <i class="fas fa-home mr-2"></i>
          Home
        </a>
        <a routerLink="/events" 
           (click)="showMobileMenu = false"
           class="hover:text-indigo-400 transition-colors duration-200"
           routerLinkActive="text-indigo-400">
          <i class="fas fa-calendar mr-2"></i>
          Events
        </a>
        <a routerLink="/register" 
           (click)="showMobileMenu = false"
           class="hover:text-indigo-400 transition-colors duration-200"
           routerLinkActive="text-indigo-400">
          <i class="fas fa-user-plus mr-2"></i>
          Register
        </a>
        <a routerLink="/registrations" 
           (click)="showMobileMenu = false"
           class="hover:text-indigo-400 transition-colors duration-200"
           routerLinkActive="text-indigo-400">
          <i class="fas fa-list mr-2"></i>
          Registrations
        </a>
        <a routerLink="/about" 
           (click)="showMobileMenu = false"
           class="hover:text-indigo-400 transition-colors duration-200"
           routerLinkActive="text-indigo-400">
          <i class="fas fa-info-circle mr-2"></i>
          About
        </a>
        <a routerLink="/contact" 
           (click)="showMobileMenu = false"
           class="hover:text-indigo-400 transition-colors duration-200"
           routerLinkActive="text-indigo-400">
          <i class="fas fa-envelope mr-2"></i>
          Contact
        </a>
        
        <!-- Mobile Admin Links -->
        <div *ngIf="canSeeAdminLinks()" class="border-t border-gray-700 pt-3 mt-3">
          <a routerLink="/manager" 
             (click)="navigateToManager()"
             class="hover:text-indigo-400 transition-colors duration-200"
             routerLinkActive="text-indigo-400">
            <i class="fas fa-user-tie mr-2"></i>
            Manager
          </a>
          <a routerLink="/admin" 
             (click)="navigateToAdmin()"
             class="hover:text-indigo-400 transition-colors duration-200"
             routerLinkActive="text-indigo-400">
            <i class="fas fa-tachometer-alt mr-2"></i>
            Admin
          </a>
        </div>
        
        <!-- Mobile User Actions -->
        <div *ngIf="isLoggedIn" class="border-t border-gray-700 pt-3 mt-3">
          <a routerLink="/profile" 
             (click)="navigateToProfile()"
             class="hover:text-indigo-400 transition-colors duration-200">
            <i class="fas fa-user mr-2"></i>
            Profile
          </a>
          <button (click)="logout()" 
                  class="hover:text-red-400 transition-colors duration-200 text-left">
            <i class="fas fa-sign-out-alt mr-2"></i>
            Logout
          </button>
        </div>
      </div>
    </div>
  </nav>
</header>
